<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>FSTS Setup</title>
        <style>
            body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 20px; }
            label { display: block; margin: 12px 0 6px; font-weight: 600; }
            input { font-size: 1rem; padding: 6px 8px; width: 200px; }
            #selected { margin-top: 10px; color: #333; }
        </style>
    </head>
    <body>
        <h1>Setup FSTS on your device!</h1>

        <label for="mount-point">Mount Point</label>
        <input type="text" id="mount-point" name="mount_point" placeholder="/path/to/mount" aria-label="Enter mount point">

        <button id="confirm-button" style="margin-top: 20px; padding: 10px 15px; font-size: 1rem;">Confirm</button>

        <script>
            document.getElementById('confirm-button').addEventListener('click', function() {
                const input = document.getElementById('mount-point');
                const mountPoint = input.value.trim();
                if (mountPoint) {
                    const a = document.createElement('a');
                    if (navigator.userAgent.includes('Linux')) {
                        a.href = `/setup_download?os=linux&mount_point=${encodeURIComponent(mountPoint)}`;
                    } else if (navigator.userAgent.includes('Mac')) {
                        a.href = `/setup_download?os=mac&mount_point=${encodeURIComponent(mountPoint)}`;
                    }
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                } else {
                    alert('Please enter a mount point before confirming.');
                }
            });
        </script>
    </body>
</html>